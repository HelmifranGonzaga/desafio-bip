<p-toast></p-toast>

<div class="topbar">
  <div class="topbar-logo">SICOOB</div>
  <div class="topbar-subtitle">| Gestão de Benefícios</div>
</div>

<div class="container">
  <div class="flex justify-between items-center mb-4">
    <h1 class="page-title m-0">Painel de Controle</h1>
    <div class="flex gap-2">
      <p-button label="Novo Benefício" icon="pi pi-plus" (onClick)="openNew()"></p-button>
      <p-button label="Transferir Saldo" icon="pi pi-arrow-right-arrow-left" severity="info" (onClick)="openTransfer()"></p-button>
    </div>
  </div>

  <app-beneficio-list 
    [beneficios]="beneficios()"
    (edit)="onEdit($event)"
    (remove)="onRemove($event)">
  </app-beneficio-list>
</div>

<!-- Modal de Formulário (Criar/Editar) -->
<p-dialog 
  [header]="editingBeneficio() ? 'Editar Benefício' : 'Novo Benefício'" 
  [visible]="showFormModal()" 
  (visibleChange)="showFormModal.set($event)"
  [modal]="true" 
  [style]="{ width: '450px' }" 
  [draggable]="false" 
  [resizable]="false">
  
  <app-beneficio-form 
    *ngIf="showFormModal()"
    [editingBeneficio]="editingBeneficio()"
    (save)="onSave($event)"
    (cancel)="onCancelEdit()">
  </app-beneficio-form>
</p-dialog>

<!-- Modal de Transferência -->
<p-dialog 
  header="Transferência de Saldo" 
  [visible]="showTransferModal()" 
  (visibleChange)="showTransferModal.set($event)"
  [modal]="true" 
  [style]="{ width: '450px' }" 
  [draggable]="false" 
  [resizable]="false">
  
  <app-beneficio-transfer 
    *ngIf="showTransferModal()"
    (transfer)="onTransfer($event)"
    (cancel)="onCancelTransfer()">
  </app-beneficio-transfer>
</p-dialog>
